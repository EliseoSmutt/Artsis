<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
               xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
               x:Class="Artsis.Gestion.Views.NuevoEmpleado"
               xmlns:local="clr-namespace:Artsis.Helpers"
               xmlns:vmNuevoEmpleado="clr-namespace:Artsis.Gestion.ViewModels"
               Size="450,650"


               Color="Transparent">

    <toolkit:Popup.Resources>
        <ResourceDictionary>
            <local:BoolToSiNoConverter x:Key="BoolToSiNoConverter"/>
        </ResourceDictionary>
    </toolkit:Popup.Resources>
    <!-- Transparent to see the Frame's color -->

    <Frame CornerRadius="20" Padding="0" BackgroundColor="#dfd9bb" HasShadow="True">

        <StackLayout Padding="10" x:DataType="vmNuevoEmpleado:NuevoEmpleadoViewModel"
                     BackgroundColor="#dfd9bb"
                     >

            <Entry Placeholder="DNI*" Text="{Binding Dni}" PlaceholderColor="black" TextColor="Black" Margin="5"/>
            <Entry Placeholder="ContraseÃ±a*" Text="{Binding Password}" PlaceholderColor="black" TextColor="Black" Margin="5"/>
            <Entry Placeholder="Nombre*" Text="{Binding Nombre}" PlaceholderColor="black" TextColor="Black" Margin="5"/>
            <Entry Placeholder="Apellido*" Text="{Binding Apellido}"  PlaceholderColor="black" TextColor="Black" Margin="5"/>
            <Entry Placeholder="Email*" Text="{Binding Email}" PlaceholderColor="black" TextColor="Black" Margin="5"/>
            <Entry Placeholder="Telefono*" Text="{Binding Telefono}" PlaceholderColor="black"  TextColor="Black" Margin="5"/>
            


            <Entry Placeholder="Buscar Localidad"
                Text="{Binding FiltroLocalidad}"
                TextColor="Black" PlaceholderColor="black"
                Margin="5"
                Focused="OnEntryFocused"
                Unfocused="OnEntryUnfocused"
                />


            <ScrollView IsVisible="{Binding MostrarLocalidades}">
                <CollectionView ItemsSource="{Binding LocalidadesFiltradas}"
                    SelectionMode="Single"
                    SelectedItem="{Binding LocalidadSeleccionada}"
                    MaximumHeightRequest="100"
                   >
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Label Text="{Binding Nombre}"
                       Padding="5"
                       TextColor="Black"/>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </ScrollView>





            <Entry  PlaceholderColor="black" Placeholder="Direccion" Text="{Binding Direccion}" TextColor="Black" Margin="5"/>


            <Picker Title="Area" 
                ItemsSource="{Binding AreasEmpleado}"
                ItemDisplayBinding="{Binding .}"
                SelectedItem="{Binding SelectedAreaEmpleado}"
                TextColor="Black"
                TitleColor="Black"
                Margin="10,5"
            />
            
            
            <Button Text="Guardar" Command="{Binding GuardarEmpleadoCommand}" Margin="10" BackgroundColor="#b11c3c" TextColor="White"/>
            <Button Text="Cancelar" Command="{Binding CancelarCommand}" Margin="10"  BackgroundColor="#b11c3c" TextColor="White"/>
        </StackLayout>
    </Frame>
</toolkit:Popup>